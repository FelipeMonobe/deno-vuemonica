import{d as _,r as w,g,o as p,c as k,u as o,h as C,t as R,i as t,j as b,w as d,v as y,k as v,l as f,F as x,a as B}from"./vendor.c129b1da.js";const m=[{octave:4,key:"C",hole:"+1"},{octave:4,key:"Db",hole:"-1'"},{octave:4,key:"D",hole:"-1"},{octave:4,key:"Eb",hole:"+1#"},{octave:4,key:"E",hole:"+2"},{octave:4,key:"F",hole:"-2''"},{octave:4,key:"Gb",hole:"-2'"},{octave:4,key:"G",hole:"-2"},{octave:4,key:"G",hole:"+3"},{octave:4,key:"Ab",hole:"-3'''"},{octave:4,key:"A",hole:"-3''"},{octave:4,key:"Bb",hole:"-3'"},{octave:4,key:"B",hole:"-3"},{octave:5,key:"C",hole:"+4"},{octave:5,key:"Db",hole:"-4'"},{octave:5,key:"D",hole:"-4"},{octave:5,key:"Eb",hole:"+4#"},{octave:5,key:"E",hole:"+5"},{octave:5,key:"F",hole:"-5"},{octave:5,key:"Gb",hole:"+5#"},{octave:5,key:"G",hole:"+6"},{octave:5,key:"Ab",hole:"-6'"},{octave:5,key:"A",hole:"-6"},{octave:5,key:"Bb",hole:"+6#"},{octave:5,key:"B",hole:"-7"},{octave:6,key:"C",hole:"+7"},{octave:6,key:"Db",hole:"-7'"},{octave:6,key:"D",hole:"-8"},{octave:6,key:"Eb",hole:"+8#"},{octave:6,key:"E",hole:"+8"},{octave:6,key:"F",hole:"-9"},{octave:6,key:"Gb",hole:"+9#"},{octave:6,key:"G",hole:"+9"},{octave:6,key:"Ab",hole:"-9'"},{octave:6,key:"A",hole:"-10"},{octave:6,key:"Bb",hole:"+10##"},{octave:6,key:"B",hole:"+10#"},{octave:7,key:"C",hole:"+10"},{octave:7,key:"Db",hole:"-10'"}],E=(r,e=-1)=>{const i=N(r);return T(i,m).map(l=>{if(l==="\\n")return{octave:0,key:"",hole:`
`};const n=m.find(s=>s.octave===l.octave+e&&s.key===l.key);if(!n)throw new Error(`"${l.hole}" not found for "${e}" pitch.`);return n}).map(l=>l.hole).join(" ").replace(/^\s+/gm,"")};function N(r){return r.replace(/(\d'*)\n/g,"$1 \\n ").replace(/(?<![+-])(\d)/g,"+$1")}function T(r,e){const u=/\d/.test(r)?"hole":"key",h=(l,n)=>{const s=l.find(a=>a[u]===n);if(!s)throw new Error(`Invalid input note ${n}.`);return s};return r.split(/\s+/).map(l=>/\\n/.test(l)?"\\n":h(e,l))}const D={key:0,id:"errorAlert",class:"alert alert-danger alert-dismissible fade show",role:"alert"},M=t("strong",null,"Error!",-1),V={class:"flex-fill"},$={class:"mt-2"},F=["rows"],G=["rows"],A={key:0,class:"mt-2 text-success fw-bold fs-6"},P=t("small",null,"\u2714\uFE0F Copied!",-1),U=[P],I={class:"flex-fill mt-3 px-2"},S=t("div",null,[t("p",null,"Pitch adjustment:")],-1),j={class:"form-check"},z=t("label",{class:"form-check-label",for:"decreasePitch"},"Decrease",-1),H={class:"form-check"},K=t("label",{class:"form-check-label",for:"increasePitch"},"Increase",-1),O={class:"mb-2 d-grid gap-1 mt-3"},q=["disabled"],J=_({setup(r){const e=w({tablature:"",result:"",pitch:-1,showResults:!1,resultsCopied:!1,errorMsg:""}),i=g(()=>{let s=11;return e.errorMsg&&(s-=3),e.resultsCopied&&(s-=2),s}),u=async()=>{if(!e.tablature)return Promise.resolve();try{const s=await E(e.tablature,e.pitch);e.result=s,e.showResults=!0,e.resultsCopied=!1}catch(s){e.errorMsg=s.message}},h=()=>{e.tablature="",e.result="",e.pitch=-1,e.showResults=!1,e.resultsCopied=!1,e.errorMsg=""},l=s=>{const a=s.target;a.select(),a.setSelectionRange(0,99999),navigator.clipboard.writeText(a.value),e.resultsCopied=!0},n=()=>{e.errorMsg=""};return(s,a)=>(p(),k(x,null,[o(e).errorMsg?(p(),k("div",D,[M,C(" "+R(o(e).errorMsg)+" ",1),t("button",{type:"button",class:"btn-close",onClick:n})])):b("",!0),t("div",V,[t("div",$,[d(t("textarea",{id:"tablature","onUpdate:modelValue":a[0]||(a[0]=c=>o(e).tablature=c),rows:o(i),class:"form-control",placeholder:"Tablature in +4 (blow), -4' (draw half bend), -3'' (draw full bend), -4 (draw), +4# (overblow) notation"},null,8,F),[[y,o(e).tablature,void 0,{trim:!0}],[v,!o(e).showResults]])]),t("div",null,[d(t("textarea",{id:"results","onUpdate:modelValue":a[1]||(a[1]=c=>o(e).result=c),onClick:l,rows:o(i),class:"form-control",readonly:""},null,8,G),[[y,o(e).result],[v,o(e).showResults]]),o(e).resultsCopied?(p(),k("p",A,U)):b("",!0)])]),t("div",I,[S,t("div",j,[d(t("input",{id:"decreasePitch","onUpdate:modelValue":a[2]||(a[2]=c=>o(e).pitch=c),value:-1,class:"form-check-input",type:"radio",checked:""},null,512),[[f,o(e).pitch]]),z]),t("div",H,[d(t("input",{id:"increasePitch","onUpdate:modelValue":a[3]||(a[3]=c=>o(e).pitch=c),value:1,class:"form-check-input",type:"radio"},null,512),[[f,o(e).pitch]]),K]),t("div",O,[d(t("button",{id:"transposeBtn",class:"btn btn-primary btn-lg",onClick:u,disabled:!o(e).tablature}," Transpose ",8,q),[[v,!o(e).showResults]]),d(t("button",{id:"editBtn",class:"btn btn-primary btn-lg",onClick:a[4]||(a[4]=c=>o(e).showResults=!1)}," Edit ",512),[[v,o(e).showResults]]),t("button",{id:"resetBtn",class:"btn btn-secondary btn-lg",onClick:h}," Reset ")])])],64))}}),L={class:"d-flex card mt-3 p-3"},W=_({setup(r){return(e,i)=>(p(),k("div",L,[B(J)]))}});export{W as default};
